/**
 * Property Templates — Base archetypes for procedural generation
 *
 * Templates define the "shape" of properties that can be generated.
 * The generator picks a template, randomizes its values within ranges,
 * and assigns a location grade.
 *
 * ── Balance guidelines ──
 * ROI  = baseRent × units / price.  Targets a smooth 1× → 1.8× curve from
 *        Studio to Private Castle so later properties feel better without
 *        dominating.  All values assume grade-B (multiplier 1.0).
 *
 * Appreciation rates are tuned for the 6 000-tick period (~10 min).
 * A rate of 0.0012 gives ~+9 %/day; 0.0025 gives ~+38 %/day.
 * This makes long-term holding a meaningful strategy.
 */
import type { PropertyCategory } from './locations'

export interface PropertyTemplate {
  id: string
  name: string
  icon: string
  categories: PropertyCategory[]
  priceRange: [number, number]
  baseRentRange: [number, number]
  unitRange: [number, number]
  conditionRange: [number, number]
  wearRateRange: [number, number]
  taxRateRange: [number, number]
  baseAppreciationRate: number
  maintenanceRatio: number
  maxRenovationLevel: number
  renovationCostMultiplier: number
  /** Max property improvements (security, amenities, curb appeal) */
  maxImprovements: number
  minNetWorth: number
}

export const PROPERTY_TEMPLATES: PropertyTemplate[] = [
  // ── Residential ──
  {
    id: 'studio_apt',
    name: 'Studio Apartment',
    icon: 'mdi:home',
    categories: ['Residential'],
    priceRange: [56_000, 112_000],
    baseRentRange: [0.6, 1.9],
    unitRange: [1, 1],
    conditionRange: [60, 100],
    wearRateRange: [0.0015, 0.003],
    taxRateRange: [0.009, 0.014],
    baseAppreciationRate: 0.0012,
    maintenanceRatio: 0.10,
    maxRenovationLevel: 10,
    renovationCostMultiplier: 1.5,
    maxImprovements: 6,
    minNetWorth: 0,
  },
  {
    id: 'one_bed_apt',
    name: '1-Bed Apartment',
    icon: 'mdi:home-outline',
    categories: ['Residential'],
    priceRange: [112_000, 252_000],
    baseRentRange: [1.3, 2.7],
    unitRange: [1, 2],
    conditionRange: [55, 100],
    wearRateRange: [0.0015, 0.0025],
    taxRateRange: [0.010, 0.015],
    baseAppreciationRate: 0.0012,
    maintenanceRatio: 0.09,
    maxRenovationLevel: 10,
    renovationCostMultiplier: 1.5,
    maxImprovements: 7,
    minNetWorth: 45_000,
  },
  {
    id: 'duplex',
    name: 'Duplex',
    icon: 'mdi:home-group',
    categories: ['Residential'],
    priceRange: [210_000, 490_000],
    baseRentRange: [1.4, 2.8],
    unitRange: [2, 4],
    conditionRange: [50, 95],
    wearRateRange: [0.0015, 0.003],
    taxRateRange: [0.010, 0.016],
    baseAppreciationRate: 0.0012,
    maintenanceRatio: 0.09,
    maxRenovationLevel: 10,
    renovationCostMultiplier: 1.5,
    maxImprovements: 7,
    minNetWorth: 120_000,
  },
  {
    id: 'townhouse',
    name: 'Townhouse',
    icon: 'mdi:home-city',
    categories: ['Residential', 'Mixed'],
    priceRange: [700_000, 1_680_000],
    baseRentRange: [3.5, 7.2],
    unitRange: [3, 6],
    conditionRange: [55, 100],
    wearRateRange: [0.0012, 0.002],
    taxRateRange: [0.012, 0.017],
    baseAppreciationRate: 0.0015,
    maintenanceRatio: 0.09,
    maxRenovationLevel: 8,
    renovationCostMultiplier: 1.6,
    maxImprovements: 8,
    minNetWorth: 375_000,
  },

  // ── Commercial ──
  {
    id: 'retail_shop',
    name: 'Retail Space',
    icon: 'mdi:store',
    categories: ['Commercial', 'Mixed'],
    priceRange: [420_000, 1_120_000],
    baseRentRange: [5.0, 10.0],
    unitRange: [1, 3],
    conditionRange: [60, 100],
    wearRateRange: [0.0015, 0.0025],
    taxRateRange: [0.014, 0.021],
    baseAppreciationRate: 0.0012,
    maintenanceRatio: 0.10,
    maxRenovationLevel: 8,
    renovationCostMultiplier: 1.7,
    maxImprovements: 7,
    minNetWorth: 225_000,
  },
  {
    id: 'strip_mall',
    name: 'Strip Mall',
    icon: 'mdi:store-outline',
    categories: ['Commercial'],
    priceRange: [2_100_000, 5_600_000],
    baseRentRange: [8.0, 16.5],
    unitRange: [4, 10],
    conditionRange: [50, 90],
    wearRateRange: [0.0015, 0.003],
    taxRateRange: [0.015, 0.021],
    baseAppreciationRate: 0.0012,
    maintenanceRatio: 0.10,
    maxRenovationLevel: 8,
    renovationCostMultiplier: 1.7,
    maxImprovements: 8,
    minNetWorth: 1_125_000,
  },
  {
    id: 'office_floor',
    name: 'Office Floor',
    icon: 'mdi:office-building',
    categories: ['Commercial'],
    priceRange: [7_000_000, 21_000_000],
    baseRentRange: [18.0, 37.5],
    unitRange: [5, 20],
    conditionRange: [60, 100],
    wearRateRange: [0.001, 0.002],
    taxRateRange: [0.017, 0.023],
    baseAppreciationRate: 0.001,
    maintenanceRatio: 0.10,
    maxRenovationLevel: 6,
    renovationCostMultiplier: 1.8,
    maxImprovements: 8,
    minNetWorth: 3_750_000,
  },
  {
    id: 'office_tower',
    name: 'Office Tower',
    icon: 'mdi:office-building-cog',
    categories: ['Commercial'],
    priceRange: [42_000_000, 112_000_000],
    baseRentRange: [43.0, 88.0],
    unitRange: [20, 50],
    conditionRange: [70, 100],
    wearRateRange: [0.001, 0.0018],
    taxRateRange: [0.017, 0.025],
    baseAppreciationRate: 0.001,
    maintenanceRatio: 0.10,
    maxRenovationLevel: 5,
    renovationCostMultiplier: 2.0,
    maxImprovements: 9,
    minNetWorth: 22_500_000,
  },

  // ── Apartment Complexes ──
  {
    id: 'apt_complex_sm',
    name: 'Apartment Complex',
    icon: 'mdi:domain',
    categories: ['Residential'],
    priceRange: [7_000_000, 28_000_000],
    baseRentRange: [7.0, 15.0],
    unitRange: [20, 60],
    conditionRange: [50, 90],
    wearRateRange: [0.0015, 0.0025],
    taxRateRange: [0.012, 0.017],
    baseAppreciationRate: 0.0012,
    maintenanceRatio: 0.09,
    maxRenovationLevel: 6,
    renovationCostMultiplier: 1.8,
    maxImprovements: 9,
    minNetWorth: 3_750_000,
  },

  // ── Hospitality ──
  {
    id: 'boutique_hotel',
    name: 'Boutique Hotel',
    icon: 'mdi:bed',
    categories: ['Hospitality'],
    priceRange: [14_000_000, 70_000_000],
    baseRentRange: [15.0, 31.0],
    unitRange: [20, 80],
    conditionRange: [60, 100],
    wearRateRange: [0.002, 0.003],
    taxRateRange: [0.015, 0.021],
    baseAppreciationRate: 0.0012,
    maintenanceRatio: 0.11,
    maxRenovationLevel: 5,
    renovationCostMultiplier: 2.0,
    maxImprovements: 9,
    minNetWorth: 7_500_000,
  },
  {
    id: 'luxury_hotel',
    name: 'Luxury Hotel',
    icon: 'mdi:star-circle',
    categories: ['Hospitality', 'Luxury'],
    priceRange: [140_000_000, 700_000_000],
    baseRentRange: [68.0, 138.0],
    unitRange: [80, 200],
    conditionRange: [70, 100],
    wearRateRange: [0.002, 0.003],
    taxRateRange: [0.015, 0.021],
    baseAppreciationRate: 0.0011,
    maintenanceRatio: 0.11,
    maxRenovationLevel: 4,
    renovationCostMultiplier: 2.2,
    maxImprovements: 10,
    minNetWorth: 75_000_000,
  },

  // ── Luxury ──
  {
    id: 'penthouse',
    name: 'Penthouse Suite',
    icon: 'mdi:crown',
    categories: ['Luxury', 'Residential'],
    priceRange: [28_000_000, 112_000_000],
    baseRentRange: [35.0, 72.0],
    unitRange: [1, 4],
    conditionRange: [80, 100],
    wearRateRange: [0.001, 0.002],
    taxRateRange: [0.012, 0.017],
    baseAppreciationRate: 0.0018,
    maintenanceRatio: 0.13,
    maxRenovationLevel: 4,
    renovationCostMultiplier: 2.5,
    maxImprovements: 10,
    minNetWorth: 15_000_000,
  },
  {
    id: 'skyscraper',
    name: 'Skyscraper',
    icon: 'mdi:city-variant',
    categories: ['Commercial', 'Luxury'],
    priceRange: [700_000_000, 2_800_000_000],
    baseRentRange: [385.0, 785.0],
    unitRange: [50, 120],
    conditionRange: [80, 100],
    wearRateRange: [0.001, 0.0015],
    taxRateRange: [0.017, 0.029],
    baseAppreciationRate: 0.0015,
    maintenanceRatio: 0.14,
    maxRenovationLevel: 3,
    renovationCostMultiplier: 2.5,
    maxImprovements: 10,
    minNetWorth: 375_000_000,
  },
  {
    id: 'private_island',
    name: 'Private Castle',
    icon: 'mdi:castle',
    categories: ['Luxury'],
    priceRange: [7_000_000_000, 28_000_000_000],
    baseRentRange: [33_000, 67_000],
    unitRange: [5, 15],
    conditionRange: [85, 100],
    wearRateRange: [0.0008, 0.0015],
    taxRateRange: [0.007, 0.012],
    baseAppreciationRate: 0.0025,
    maintenanceRatio: 0.15,
    maxRenovationLevel: 3,
    renovationCostMultiplier: 3.0,
    maxImprovements: 10,
    minNetWorth: 3_000_000_000,
  },

  // ── Industrial ──
  {
    id: 'warehouse',
    name: 'Warehouse',
    icon: 'mdi:warehouse',
    categories: ['Industrial'],
    priceRange: [280_000, 1_120_000],
    baseRentRange: [5.5, 11.0],
    unitRange: [1, 4],
    conditionRange: [40, 85],
    wearRateRange: [0.0005, 0.001],
    taxRateRange: [0.009, 0.014],
    baseAppreciationRate: 0.0008,
    maintenanceRatio: 0.04,
    maxRenovationLevel: 6,
    renovationCostMultiplier: 1.4,
    maxImprovements: 6,
    minNetWorth: 112_500,
  },
  {
    id: 'factory',
    name: 'Factory',
    icon: 'mdi:factory',
    categories: ['Industrial'],
    priceRange: [2_800_000, 11_200_000],
    baseRentRange: [25.0, 52.0],
    unitRange: [2, 8],
    conditionRange: [40, 80],
    wearRateRange: [0.001, 0.002],
    taxRateRange: [0.012, 0.017],
    baseAppreciationRate: 0.0007,
    maintenanceRatio: 0.05,
    maxRenovationLevel: 5,
    renovationCostMultiplier: 1.6,
    maxImprovements: 7,
    minNetWorth: 1_500_000,
  },

  // ── Mid-Late Game (fill $75M–$375M gap) ──
  {
    id: 'resort_complex',
    name: 'Resort Complex',
    icon: 'mdi:palm-tree',
    categories: ['Hospitality', 'Luxury'],
    priceRange: [140_000_000, 420_000_000],
    baseRentRange: [85.0, 175.0],
    unitRange: [60, 150],
    conditionRange: [65, 100],
    wearRateRange: [0.0018, 0.0028],
    taxRateRange: [0.015, 0.021],
    baseAppreciationRate: 0.0013,
    maintenanceRatio: 0.12,
    maxRenovationLevel: 4,
    renovationCostMultiplier: 2.2,
    maxImprovements: 10,
    minNetWorth: 75_000_000,
  },
  {
    id: 'corporate_campus',
    name: 'Corporate Campus',
    icon: 'mdi:office-building-marker',
    categories: ['Commercial', 'Mixed'],
    priceRange: [280_000_000, 840_000_000],
    baseRentRange: [120.0, 245.0],
    unitRange: [30, 80],
    conditionRange: [70, 100],
    wearRateRange: [0.001, 0.0018],
    taxRateRange: [0.017, 0.025],
    baseAppreciationRate: 0.0012,
    maintenanceRatio: 0.12,
    maxRenovationLevel: 4,
    renovationCostMultiplier: 2.3,
    maxImprovements: 10,
    minNetWorth: 150_000_000,
  },
]
